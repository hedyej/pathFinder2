import{_ as z,r as m,i as E,n as M,a as t,j as R,o as n,c as i,b as e,w as a,W as T,e as A,f as S,l as y,q as C,k as G,F as V,m as H,h as s,t as x,p as J,g as O}from"./index-c44ae4d5.js";import{a as q}from"./store-292476e9.js";const D=p=>(J("data-v-edc2e761"),p=p(),O(),p),P=D(()=>s("h1",{class:"mb-3"},"搜尋",-1)),Q={key:0},X={class:"d-flex align-center"},Y={class:"rounded block me-3"},Z={class:"mb-1"},ee={class:"text-grey mb-1"},te={class:"text-grey mb-1"},ae={key:1},oe={key:0,class:"text-center"},le={class:"text-center text-grey py-3"},ne=D(()=>s("h5",null,"查無相關結果",-1)),se={__name:"SearchStore",setup(p){const l=m(""),d=m(!1),v=m(!1),u=m([]),_=m(0),h=async(c,r)=>{v.value=!0;const f=await q({q:c});_.value=f.data;const g=await q({q:c,_page:r});v.value=!1,u.value=g.data,d.value=!0},N=c=>{d.value===!0&&h(l.value,c)};E(async()=>{const c=M();c.query.keyword?(l.value=c.query.keyword,h(l.value,1),d.value=!0):u.value=[]});const B=()=>{l.value="",d.value=!1,u.value=[],_.value=0};return(c,r)=>{const f=t("el-input"),g=t("el-form-item"),k=t("el-button"),I=t("el-form"),b=t("el-card"),L=t("el-main"),w=t("el-col"),W=t("el-image"),$=t("el-row"),F=t("router-link"),K=t("font-awesome-icon"),U=t("el-pagination"),j=R("loading");return n(),i("div",null,[e(T,null,{default:a(()=>[e(b,{class:"search-card mb-3"},{default:a(()=>[P,e(I,{inline:!0,size:"large",style:{"margin-bottom":"-24px"}},{default:a(()=>[e(g,{style:{width:"100%","max-width":"400px"}},{default:a(()=>[e(f,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=o=>l.value=o),type:"round",placeholder:"搜尋換宿店家",onKeyup:r[1]||(r[1]=A(o=>h(l.value),["enter"]))},null,8,["modelValue"])]),_:1}),e(g,null,{default:a(()=>[e(k,{type:"primary",onClick:r[2]||(r[2]=o=>h(l.value)),tabindex:"0",class:"btn-moved",disabled:!l.value},{default:a(()=>[S("搜尋")]),_:1},8,["disabled"]),d.value?(n(),y(k,{key:0,type:"secondary",onClick:B},{default:a(()=>[S("重置")]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}),v.value?G((n(),y(L,{key:0,"element-loading-background":"rgba(255, 0, 0, 0)",class:"px-0",style:{height:"200px"}},null,512)),[[j,v.value]]):(n(),i(V,{key:1},[u.value.length>0?(n(),i("div",Q,[(n(!0),i(V,null,H(u.value,o=>(n(),y(F,{to:`/storeDetail/${o.id}`,key:o.id,class:"router-link"},{default:a(()=>[e(b,{class:"mb-3"},{default:a(()=>[e($,{gutter:"16",class:"align-center"},{default:a(()=>[e(w,{xs:0,md:1}),e(w,{xs:24,md:18},{default:a(()=>[s("div",X,[s("div",Y,[e(W,{style:{width:"100px",height:"100px"},src:o.imgUrl,fit:"cover",class:"rounded"},null,8,["src"])]),s("div",null,[s("h4",Z,x(o.name),1),s("p",ee,x(o.address),1),s("p",te,x(o.tel),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))])):(n(),i("div",ae,[d.value?(n(),i("div",oe,[s("div",le,[e(K,{icon:["fas","face-sad-tear"],style:{width:"80",height:"80"},class:"mb-1"}),ne])])):C("",!0)])),e(U,{background:"",layout:"prev, pager, next",total:_.value.length,onCurrentChange:N,"hide-on-single-page":_.value.length===10||_.value.length<10},null,8,["total","hide-on-single-page"])],64))]),_:1})])}}},de=z(se,[["__scopeId","data-v-edc2e761"]]);export{de as default};
