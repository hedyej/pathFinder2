import{_ as z,r as p,i as E,m as M,a as t,n as R,o as n,c as u,b as e,w as a,W as T,e as A,f as S,k as y,q as C,s as G,F as V,j as H,h as l,t as b,p as J,g as O}from"./index-c6f64e6c.js";import{a as q}from"./store-6d2d0e3c.js";const D=m=>(J("data-v-badbb4cc"),m=m(),O(),m),P=D(()=>l("h1",{class:"mb-3"},"搜尋",-1)),Q={key:0},X={class:"d-flex align-center"},Y={class:"rounded block me-3"},Z={class:"mb-1"},ee={class:"text-grey mb-1"},te={class:"text-grey mb-1"},ae={key:1},oe={key:0,class:"text-center"},ne={class:"text-center text-grey py-3"},le=D(()=>l("h5",null,"查無相關結果",-1)),se={__name:"SearchStore",setup(m){const s=p(""),i=p(!1),v=p(!1),_=p([]),d=p(0),h=async(c,r)=>{v.value=!0;const f=await q({q:c});d.value=f.data;const g=await q({q:c,_page:r});v.value=!1,_.value=g.data,i.value=!0},N=c=>{i.value===!0&&h(s.value,c)};E(async()=>{const c=M();c.query.keyword?(s.value=c.query.keyword,h(s.value,1),i.value=!0):_.value=[]});const B=()=>{s.value="",i.value=!1,_.value=[],d.value=0};return(c,r)=>{const f=t("el-input"),g=t("el-form-item"),x=t("el-button"),I=t("el-form"),k=t("el-card"),L=t("el-main"),w=t("el-col"),W=t("el-image"),$=t("el-row"),F=t("router-link"),K=t("font-awesome-icon"),U=t("el-pagination"),j=R("loading");return n(),u("div",null,[e(T,null,{default:a(()=>[e(k,{class:"search-card mb-3"},{default:a(()=>[P,e(I,{inline:!0,size:"large",style:{"margin-bottom":"-24px"}},{default:a(()=>[e(g,{style:{width:"100%","max-width":"400px"}},{default:a(()=>[e(f,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=o=>s.value=o),type:"round",placeholder:"搜尋換宿店家",onKeyup:r[1]||(r[1]=A(o=>h(s.value),["enter"]))},null,8,["modelValue"])]),_:1}),e(g,null,{default:a(()=>[e(x,{type:"primary",onClick:r[2]||(r[2]=o=>h(s.value)),tabindex:"0"},{default:a(()=>[S("搜尋")]),_:1}),i.value?(n(),y(x,{key:0,type:"secondary",onClick:B},{default:a(()=>[S("重置")]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}),v.value?G((n(),y(L,{key:0,"element-loading-background":"rgba(255, 0, 0, 0)",class:"px-0",style:{height:"200px"}},null,512)),[[j,v.value]]):(n(),u(V,{key:1},[_.value.length>0?(n(),u("div",Q,[(n(!0),u(V,null,H(_.value,o=>(n(),y(F,{to:`/storeDetail/${o.id}`,key:o.id,class:"router-link"},{default:a(()=>[e(k,{class:"mb-3"},{default:a(()=>[e($,{gutter:"16",class:"align-center"},{default:a(()=>[e(w,{xs:0,md:1}),e(w,{xs:24,md:18},{default:a(()=>[l("div",X,[l("div",Y,[e(W,{style:{width:"100px",height:"100px"},src:o.imgUrl,fit:"cover",class:"rounded"},null,8,["src"])]),l("div",null,[l("h4",Z,b(o.name),1),l("p",ee,b(o.address),1),l("p",te,b(o.tel),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))])):(n(),u("div",ae,[i.value?(n(),u("div",oe,[l("div",ne,[e(K,{icon:["fas","face-sad-tear"],style:{width:"80",height:"80"},class:"mb-1"}),le])])):C("",!0)])),e(U,{background:"",layout:"prev, pager, next",total:d.value.length,onCurrentChange:N,"hide-on-single-page":d.value.length===10||d.value.length<10},null,8,["total","hide-on-single-page"])],64))]),_:1})])}}},ie=z(se,[["__scopeId","data-v-badbb4cc"]]);export{ie as default};
